*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:#f8f9fb;color:#111}
header{background:#111;color:#fff;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap}
h1{font-size:1.25rem;margin:0}
.api-box{display:flex;align-items:center;gap:8px}
.api-box input{min-width:360px;padding:10px;border-radius:10px;border:1px solid #444}
.api-box button{padding:10px 12px;border:0;border-radius:10px;background:#fff;color:#111;cursor:pointer}
.api-box #apiStatus{opacity:.8;font-size:.9rem}

.tabs{display:flex;gap:8px;background:#fff;padding:8px 12px;border-bottom:1px solid #eee;position:sticky;top:0;z-index:9}
.tab{padding:10px 14px;border:1px solid #ddd;background:#fff;border-radius:10px;cursor:pointer}
.tab.active{background:#111;color:#fff;border-color:#111}

.panel{display:none;padding:16px 24px}
.panel.active{display:block}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin:8px 0 16px}
label{display:flex;flex-direction:column;gap:6px;font-size:.95rem}
input,select,textarea{padding:10px;border-radius:10px;border:1px solid #ccc;background:#fff}
.actions{display:flex;gap:8px}
.actions button{padding:10px 12px;border:0;border-radius:10px;background:#111;color:#fff;cursor:pointer}
.resp{background:#0b1020;color:#d4f2ff;padding:12px;border-radius:10px;white-space:pre-wrap}
.help{color:#555;font-size:.9rem}

footer{padding:20px;text-align:center;color:#666}
/* Loader básico */
.spinner {
  display:inline-block; width:16px; height:16px;
  border:2px solid #bbb; border-top-color: transparent;
  border-radius:50%; animation: spin 0.9s linear infinite;
  vertical-align: -2px;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Botón deshabilitado */
button[disabled] { opacity: .6; cursor: not-allowed; }

.pie-legend {
  margin-top: 8px;
  font-size: 0.85rem;
}

.pie-legend-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.pie-legend-color {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 3px;
}
.resumen-section {
  margin-top: 12px;
}

.resumen-section > summary {
  cursor: pointer;
  font-weight: 600;
  margin-bottom: 4px;
}

.venta-card {
  margin: 8px 0;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: 4px 8px;
}

.venta-card > summary {
  cursor: pointer;
  list-style: none;
}

.venta-summary {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.venta-summary-left .venta-id {
  font-weight: 700;
}

.venta-summary-left .venta-cliente {
  font-size: 0.9rem;
  opacity: 0.85;
}

.venta-summary-right {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 0.85rem;
}

.badge-contado,
.badge-credito {
  padding: 2px 6px;
  border-radius: 999px;
  font-size: 0.8rem;
}

.badge-contado {
  background:#e5f5e0;
  color:#1b7b34;
}

.badge-credito {
  background:#ffe6e6;
  color:#b30000;
}

.venta-sin-detalle {
  font-size: 0.85rem;
  opacity: 0.8;
}

.charts-row {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  margin-top: 8px;
}

.chart-box {
  max-width: 320px;
}
/* --- Resumen de ventas: resaltado de fila seleccionada --- */
#detalle-ventas-body tr {
  cursor: pointer;
}

#detalle-ventas-body tr.venta-row-selected {
  background-color: #eef6ff;
}

#detalle-ventas-body tr.venta-row-selected:hover {
  background-color: #ddeaff;
}

/* Botón pequeño en el detalle de venta */
.detalle-venta-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 1.5rem 0 0.5rem 0;
  font-weight: 600;
}

.detalle-venta-header button {
  padding: 4px 10px;
  font-size: 0.85rem;
}

/* ===== DASHBOARD ===== */
.dash-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.dash-card {
  background: #fff;
  padding: 20px;
  border-radius: 14px;
  border: 1px solid #e5e5e5;
  box-shadow: 0 2px 4px rgba(0,0,0,.05);
}

.dash-card h3 {
  margin: 0;
  font-size: 1rem;
  color: #444;
}

.dash-card p {
  margin: 10px 0 0 0;
  font-size: 1.6rem;
  font-weight: 600;
}

.dash-chart-box {
  margin: 32px 0;
  background: #fff;
  padding: 20px;
  border-radius: 14px;
  border: 1px solid #e5e5e5;
}

.dash-last-sales {
  margin-top: 32px;
  background: #fff;
  padding: 20px;
  border-radius: 14px;
  border: 1px solid #e5e5e5;
}
#chart-ventas-wrapper {
  height: 220px;
  max-height: 220px;
}

#chart-ventas-wrapper canvas {
  max-height: 100%;
}
/* Caja de la gráfica en el dashboard */
.dash-chart-box {
  margin-top: 1rem;
}

/* Limitar altura de la gráfica para que todo quepa sin tanto scroll */
.dash-chart-box canvas {
  max-height: 260px;
}

/* Si la pantalla es más alta, podemos darle un poquito más */
@media (min-height: 800px) {
  .dash-chart-box canvas {
    max-height: 320px;
  }
}
/* Contenedor de las tarjetas */
.dash-cards {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

/* Tarjeta base */
.dash-card {
  padding: 18px 20px;
  border-radius: 16px;
  border: 1px solid #e5e7eb;              /* gris muy claro */
  background: linear-gradient(135deg, #fafafa, #f3f4f6);
  box-shadow: 0 6px 14px rgba(15, 23, 42, 0.06); /* sombra suave */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* Título de la tarjeta */
.dash-card h3 {
  margin: 0 0 8px 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: #4b5563; /* gris medio */
}

/* Valor principal */
.dash-card p {
  margin: 0;
  font-size: 1.6rem;
  font-weight: 700;
  color: #111827; /* casi negro */
}

/* Pequeño efecto al pasar el mouse */
.dash-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 18px rgba(15, 23, 42, 0.10);
  transition: all 0.15s ease-out;
}
